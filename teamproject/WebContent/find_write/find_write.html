<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="find_write.css" />
    <title>실종동물 등록</title>
  </head>
  <body>
    <main>
      <section id="fine-write" class="wr-lay-1">
        <div class="container wr-lay-2">
          <h2 class="find-head">실종 동물 등록</h2>
        </div>
      </section>
      <section class="container">
        <h3 class="wr-title-h3">글 쓰기</h3>
        <form action="">
          <div class="form-group">
            <div class="find-q">
              <label class="wr-title" for="">실종 지역</label>
              <div class="row">
                <input id="sample6_postcode" class="inputarea" placeholder="우편번호" style="display: none;">
                <div class="input addr">
              <input type="text" class="form-control inputarea" id="sample6_address" placeholder="주소 검색" onclick="sample6_execDaumPostcode()" ><br>
            </div>
            <div class="input addr">
              <input type="text" class="form-control inputarea" id="sample6_extraAddress" placeholder="읍면동">
            </div>
          </div>

          <input type="text" class="form-control inputarea" id="sample6_detailAddress" placeholder="상세 위치   ex) OO마트 주차장 앞">
          <small class="form-text text-muted g-font-size-default g-mt-10">20자 이하로 적어주세요.</small>
          <label class="error" for="">필수 입력 항목입니다.</label>
        </div>
        
        <div class="find-q">
          <label class="wr-title" for="">실종 (발견) 일시</label>
          <div class="row">
              <div class="time">
            <input type="date" class="form-control inputarea" id='currentDate'/>
          </div>
          <div class="time">
            <input type="time" class="form-control inputarea"  id='currentTime'/>
            <label class="error" for="">필수 입력 항목입니다.</label>
          </div>
            </div>
          </div>



            <div class="find-q">
              <label class="wr-title" for="">실종 동물 종 > 대분류</label>
              <select  class="form-control inputarea" name="species">
                <option value="none" selected style="color: #555;">동물 종을 선택하세요.</option>
                <option value="dog">개</option>
                <option value="cat">고양이</option>
                <option value="etc">기타</option>
              </select>
              <label class="error" for="">필수 입력 항목입니다.</label>
            </div>

        <div class="find-q">
            
              <label class="wr-title" for="">실종 동물 종 > 소분류</label>
              <input type="text" class="form-control inputarea" placeholder="ex) 말티즈"/>
              <small class="form-text text-muted g-font-size-default g-mt-10">생략 가능</small>              
            </div>

            <div class="find-q">
              <label class="wr-title" for="">실종 동물 성별</label>
              <label>
              <input type="checkbox" class="gen" name="gender" value="m" class="form-control inputarea" />수컷</label>
              <input type="checkbox" class="gen" name="gender" value="f"class="form-control inputarea" />암컷</label>
              <label>중성화 여부</label>
              <select  class="form-control inputarea" name="gen">
                <option value="none" selected style="color: #555;">중성화 여부</option>
                <option value="o">중성화 O</option>
                <option value="x">중성화 X</option>
                <option value="etc">알 수 없음</option>
              </select>
              <label class="error" for="">필수 입력 항목입니다.</label>
            </div>

              <div class="find-q">
              <label class="wr-title" for="">실종 동물 색상</label>
              <input type="text" class="form-control inputarea" />
              <label class="error" for="">필수 입력 항목입니다.</label>
              <small class="form-message">10자 이하로 적어주세요.</small>
            </div>
          
            <div class="find-q">
              <label class="wr-title" for="">실종 동물 사진</label>

              <div class="filebox">
                <input class="upload-name" value="첨부파일" placeholder="첨부파일">
                <label for="file">파일 찾기</label> 
                <input type="file" id="file">
            </div>
              <label class="error" for="">필수 입력 항목입니다.</label>
            </div>

            <div class="find-q">
              <label class="wr-title" for="">실종 동물 상태</label>
              <input type="text" class="form-control inputarea" />
              <label class="error" for="">필수 입력 항목입니다.</label>
              <small class="form-message">200자 이하로 적어주세요.</small>
            </div>
            
          </div>
          <div class="button">
          <button class="btn" type="submit">글 등록</button>
        </div>
        
        </form>
      </section>
    </main>

    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script>
        function sample6_execDaumPostcode() {
            new daum.Postcode({
                oncomplete: function(data) {
                    // 팝업에서 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.
    
                    // 각 주소의 노출 규칙에 따라 주소를 조합한다.
                    // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
                    var addr = ''; // 주소 변수
                    var extraAddr = ''; // 참고항목 변수
    
                    //사용자가 선택한 주소 타입에 따라 해당 주소 값을 가져온다.
                    if (data.userSelectedType === 'R') { // 사용자가 도로명 주소를 선택했을 경우
                        addr = data.roadAddress;
                    } else { // 사용자가 지번 주소를 선택했을 경우(J)
                        addr = data.jibunAddress;
                    }
    
                    // 사용자가 선택한 주소가 도로명 타입일때 참고항목을 조합한다.
                    if(data.userSelectedType === 'R'){
                        // 법정동명이 있을 경우 추가한다. (법정리는 제외)
                        // 법정동의 경우 마지막 문자가 "동/로/가"로 끝난다.
                        if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)){
                            extraAddr += data.bname;
                        }
                        // 건물명이 있고, 공동주택일 경우 추가한다.
                        if(data.buildingName !== '' && data.apartment === 'Y'){
                            extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                        }
                        // 표시할 참고항목이 있을 경우, 괄호까지 추가한 최종 문자열을 만든다.
                        if(extraAddr !== ''){
                            extraAddr = ' (' + extraAddr + ')';
                        }
                        // 조합된 참고항목을 해당 필드에 넣는다.
                        document.getElementById("sample6_extraAddress").value = extraAddr;
                    
                    } else {
                        document.getElementById("sample6_extraAddress").value = '';
                    }
    
                    // 우편번호와 주소 정보를 해당 필드에 넣는다.
                    document.getElementById('sample6_postcode').value = data.zonecode;
                    document.getElementById("sample6_address").value = addr;
                    // 커서를 상세주소 필드로 이동한다.
                    document.getElementById("sample6_detailAddress").focus();
                }
            }).open();
        }
    </script>

    <script>
      document.getElementById('currentDate').value = new Date().toISOString().substring(0, 10);;
      document.getElementById('currentTime').value = new Date().toISOString().slice(11, 16);            
    </script>

    <script>
      function loadFile(input) {
        var file = input.files[0];	//선택된 파일 가져오기
    
        //미리 만들어 놓은 div에 text(파일 이름) 추가
        var name = document.getElementById('fileName');
        name.textContent = file.name;
    
        //새로운 이미지 div 추가
        var newImage = document.createElement("img");
        newImage.setAttribute("class", 'img');
    
        //이미지 source 가져오기
        newImage.src = URL.createObjectURL(file);   
    
        newImage.style.width = "70%";
        newImage.style.height = "70%";
        newImage.style.visibility = "hidden";   //버튼을 누르기 전까지는 이미지를 숨긴다
        newImage.style.objectFit = "contain";
    
        //이미지를 image-show div에 추가
        var container = document.getElementById('image-show');
        container.appendChild(newImage);
    };

    </script>

 
  </body>
</html>
